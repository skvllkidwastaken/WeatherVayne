.merriweather {
    font-family: "Merriweather", serif;
    font-optical-sizing: auto;
    font-weight: 400;
    font-style: normal;
    font-variation-settings:
      "wdth" 100;
  }

/* Use border-box sizing everywhere to keep sizing predictable */
*, *::before, *::after { box-sizing: border-box; }

body {

    background-image: url('blue-sky-clouds.png');
    background-repeat: no-repeat;
    background-size: cover;
    font-family: "Merriweather", serif;
    max-height: 100vh; /* lock page to viewport height */
    overflow: hidden;  /* prevent page from growing when widgets expand */
}

h1 {

    text-align: center;
    color: white;
    padding-top: 40px;

}

/* Widgets layout */
.widgets {
    display: grid;
    grid-template-columns: repeat(2, minmax(260px, 360px));
    gap: 18px;
    padding: 20px;
    max-width: 820px;
    margin: 24px auto;
    justify-content: center; /* center the two-column grid */
    align-items: start;
    overflow: auto; /* allow inner scrolling if widgets exceed viewport */
    max-height: calc(100vh - 140px); /* keep widgets area within viewport */
}

.widget {
    background: rgba(255,255,255,0.16);
    border-radius: 10px;
    padding: 14px;
    color: #fff;
    box-shadow: 0 6px 20px rgba(0,0,0,0.35);
    touch-action: none; /* needed for pointer dragging */
    cursor: grab;
    transition: transform 0.12s ease;
    transform-origin: 0 0;
    position: relative; /* for resize handle positioning */
    overflow: hidden; /* prevent widget from forcing page size; allow inner panes to scroll */
}

.widget h2 {
    margin: 0 0 8px 0;
    font-size: 1.05rem;
}

.Time, .Weather, .Doppler { min-height: 80px; }

/* Make doppler and forecast widgets span both columns */
.doppler-widget, .forecast-widget { grid-column: 1 / -1; }

/* Center content inside time and weather widgets */
.time-widget, .weather-widget { display:flex; flex-direction:column; align-items:center; justify-content:center; }

@media (max-width: 620px) {
    .widgets { grid-template-columns: 1fr; max-width: 100%; padding: 12px; }
    .doppler-frame iframe { height: 180px; }
}

.weather-current { display:flex; flex-direction:column; gap:6px; }
.weather-current .emoji { font-size: 32px; line-height: 1; }
.weather-current .temp { font-size: 28px; font-weight:700; }
.weather-current .desc { opacity:0.9; }
.weather-current .meta { font-size: 0.9rem; color: #ddd; }

.doppler-frame iframe { width:100%; height:200px; border:0; border-radius:6px; max-height:40vh; }
.doppler-frame a { display:inline-block; margin-top:8px; color:#aee; text-decoration:underline; }

.loading { color: #ddd; }
.error { color: #ffb3b3; }

.widget.dragging { cursor: grabbing; transition: none; }

/* Resize handle */
.resize-handle {
    position: absolute;
    width: 16px;
    height: 16px;
    right: 8px;
    bottom: 8px;
    background: rgba(255,255,255,0.18);
    border-radius: 3px;
    cursor: se-resize;
    display: flex;
    align-items: center;
    justify-content: center;
    box-shadow: 0 2px 6px rgba(0,0,0,0.45);
}
.resize-handle::after {
    content: '\2198';
    font-size: 10px;
    color: rgba(0,0,0,0.7);
}
.widget.resizing { cursor: nwse-resize; transition: none; }

/* Min/max visual hints */
.widget { min-width: 180px; min-height: 80px; }

/* Forecast table styling */
.forecast-table { width: 100%; border-collapse: collapse; margin-top: 6px; }
.forecast-table th, .forecast-table td { padding: 8px 6px; text-align: left; border-bottom: 1px solid rgba(255,255,255,0.06); }
.forecast-table .fw-emoji { width: 40%; }
.forecast-table tr:hover { background: rgba(255,255,255,0.03); }

/* Constrain forecast widget height and scroll internally so page stays fixed */
.Forecast { max-height: 280px; overflow: auto; }

/* Text outline for better contrast on busy backgrounds */
.text-outline,
.widget h2,
h1,
.weather-current .temp,
.weather-current .desc,
.weather-current .meta,
.Time,
.loading,
.doppler-frame a {
    text-shadow: -1px -1px 0 rgba(0,0,0,0.85), 1px -1px 0 rgba(0,0,0,0.85), -1px 1px 0 rgba(0,0,0,0.85), 1px 1px 0 rgba(0,0,0,0.85);
    color: #fff;
}